{% comment %}
  Estelle Atelier - Pagination Snippet
  Based on Shopify Dawn theme pagination component
  Uses CSS variables from theme settings

  Usage:
    {% render 'pagination', paginate: paginate %}
{% endcomment %}

{%- if paginate.parts.size > 0 -%}
  <div class="pagination-wrapper" data-pagination>
    <nav class="pagination" role="navigation" aria-label="{{ 'general.pagination.label' | t }}">

      {%- if paginate.previous -%}
        <a href="{{ paginate.previous.url }}" class="pagination__item pagination__item--prev link" aria-label="{{ 'general.pagination.previous' | t }}">
          {% render 'icon-svg', icon: 'chevron_left', size: '20' %}
        </a>
      {%- else -%}
        <span class="pagination__item pagination__item--prev pagination__item--disabled">
          {% render 'icon-svg', icon: 'chevron_left', size: '20' %}
        </span>
      {%- endif -%}

      {%- for part in paginate.parts -%}
        {%- if part.is_link -%}
          <a href="{{ part.url }}" class="pagination__item link" aria-label="{{ 'general.pagination.page' | t: number: part.title }}">
            {{- part.title -}}
          </a>
        {%- else -%}
          {%- if part.title == paginate.current_page -%}
            <span class="pagination__item pagination__item--current" aria-current="page" aria-label="{{ 'general.pagination.page' | t: number: part.title }}">
              {{- part.title -}}
            </span>
          {%- else -%}
            <span class="pagination__item">{{ part.title }}</span>
          {%- endif -%}
        {%- endif -%}
      {%- endfor -%}

      {%- if paginate.next -%}
        <a href="{{ paginate.next.url }}" class="pagination__item pagination__item--next link" aria-label="{{ 'general.pagination.next' | t }}">
          {% render 'icon-svg', icon: 'chevron_right', size: '20' %}
        </a>
      {%- else -%}
        <span class="pagination__item pagination__item--next pagination__item--disabled">
          {% render 'icon-svg', icon: 'chevron_right', size: '20' %}
        </span>
      {%- endif -%}

    </nav>
  </div>
{% endif %}

{% style %}
  .pagination-wrapper {
    margin-top: 3rem;
    margin-bottom: 2rem;
  }

  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .pagination__item {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 2.5rem;
    height: 2.5rem;
    padding: 0 0.75rem;
    font-size: 0.875rem;
    font-family: var(--font-body-family, inherit);
    text-decoration: none;
    border-width: var(--variant-pills-border-width, 1px);
    border-style: solid;
    border-color: rgba(var(--color-text-olive-deep, 60, 68, 59), var(--variant-pills-border-opacity, 0.55));
    border-radius: var(--variant-pills-radius, 4px);
    background-color: transparent;
    color: var(--color-text-olive-deep, #3c443b);
    transition: all 0.2s ease;
    box-shadow: var(--variant-pills-shadow-horizontal-offset, 0)
                var(--variant-pills-shadow-vertical-offset, 0)
                var(--variant-pills-shadow-blur, 0)
                rgba(var(--color-text-olive-deep, 60, 68, 59), var(--variant-pills-shadow-opacity, 0));
  }

  .pagination__item:hover:not(.pagination__item--disabled):not(.pagination__item--current) {
    background-color: var(--color-sage-pale, #f1f4f0);
    border-color: var(--color-sage-dark, #8ba888);
  }

  .pagination__item--current {
    background-color: var(--color-sage-dark, #8ba888);
    color: #ffffff;
    border-color: var(--color-sage-dark, #8ba888);
  }

  .pagination__item--disabled {
    opacity: 0.4;
    pointer-events: none;
  }

  .pagination__item--prev,
  .pagination__item--next {
    padding: 0;
    min-width: 2.5rem;
  }

  .pagination__item svg {
    width: 1.25rem;
    height: 1.25rem;
  }

  @media (max-width: 768px) {
    .pagination {
      gap: 0.25rem;
    }

    .pagination__item {
      min-width: 2rem;
      height: 2rem;
      font-size: 0.75rem;
      padding: 0 0.5rem;
    }

    .pagination__item--prev,
    .pagination__item--next {
      min-width: 2rem;
    }
  }
{% endstyle %}
