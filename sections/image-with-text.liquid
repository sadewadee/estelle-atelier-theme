{% comment %}
  Estelle Atelier - Image with Text Section
  16:9 side-by-side layout with configurable image position
{% endcomment %}

<div class="px-6 md:px-12 py-16 md:py-24">
  <div class="max-w-[1800px] mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
      <!-- Image Column -->
      <div class="{% if section.settings.image_position == 'right' %}lg:order-2{% endif %}">
        {% if section.settings.image != blank %}
          <div class="relative aspect-[16/10] overflow-hidden rounded-2xl">
            {{
              section.settings.image
              | image_tag:
                class: 'w-full h-full object-cover',
                loading: 'lazy',
                widths: '600, 900, 1200, 1600, 2400',
                sizes: '(max-width: 1024px) 100vw, 50vw'
            }}
          </div>
        {% else %}
          <div class="relative aspect-[16/10] overflow-hidden rounded-2xl bg-sage-pale">
            {{ 'image' | placeholder_svg_tag: 'w-full h-full text-sage-dark/20' }}
          </div>
        {% endif %}
      </div>

      <!-- Content Column -->
      <div class="flex flex-col {% if section.settings.image_position == 'right' %}lg:order-1{% endif %} {% if section.settings.text_alignment == 'center' %}items-center text-center{% elsif section.settings.text_alignment == 'right' %}items-end text-right{% else %}items-start text-left{% endif %}">
        {% if section.settings.overline != blank %}
          <span class="text-[var(--sage-dark)] text-xs font-bold uppercase tracking-[0.3em] mb-4">
            {{ section.settings.overline }}
          </span>
        {% endif %}

        {% if section.settings.heading != blank %}
          <h2 class="text-[var(--text-olive-deep)] text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight mb-6 serif">
            {{ section.settings.heading }}
          </h2>
        {% endif %}

        {% if section.settings.text != blank %}
          <div class="prose prose-lg max-w-none mb-8">
            <p class="text-muted text-lg font-light leading-relaxed">
              {{ section.settings.text }}
            </p>
          </div>
        {% endif %}

        {% if section.settings.button_label != blank %}
          {% if section.settings.button_style == 'primary' %}
            <a
              href="{{ section.settings.button_link }}"
              class="inline-flex items-center gap-2 bg-[var(--sage-dark)] text-white px-8 py-4 rounded-lg text-sm font-bold uppercase tracking-widest hover:bg-[var(--sage-accent)] hover:text-[var(--text-olive-deep)] transition-all"
            >
              {{ section.settings.button_label }}
            </a>
          {% elsif section.settings.button_style == 'outline' %}
            <a
              href="{{ section.settings.button_link }}"
              class="inline-flex items-center gap-2 border-2 border-[var(--text-olive-deep)] text-[var(--text-olive-deep)] px-8 py-4 rounded-lg text-sm font-bold uppercase tracking-widest hover:bg-[var(--text-olive-deep)] hover:text-white transition-all"
            >
              {{ section.settings.button_label }}
            </a>
          {% else %}
            <a
              href="{{ section.settings.button_link }}"
              class="inline-flex items-center gap-2 text-[var(--sage-dark)] font-medium border-b border-[var(--sage-dark)]/30 pb-0.5 hover:border-[var(--sage-dark)] transition-all"
            >
              {{ section.settings.button_label }}
              {% render 'icon-svg', icon: 'arrow_forward' %}
            </a>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Image with Text",
  "tag": "section",
  "class": "section-image-with-text",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "text",
      "id": "overline",
      "label": "Overline",
      "default": "Our Story"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Crafted with Intention"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Text",
      "default": "Each piece in our collection is thoughtfully designed and ethically produced, ensuring that luxury and sustainability go hand in hand."
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button style",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "outline",
          "label": "Outline"
        },
        {
          "value": "link",
          "label": "Link"
        }
      ],
      "default": "primary"
    }
  ],
  "presets": [
    {
      "name": "Image with Text",
      "category": "Content"
    }
  ]
}
{% endschema %}
