{% comment %}
  Estelle Atelier - Customer Login Section
  Login and registration form
{% endcomment %}

<div class="px-6 md:px-12 py-16 md:py-24 min-h-[70vh] flex items-center">
  <div class="max-w-md mx-auto w-full">
    <!-- Page Header -->
    <div class="text-center mb-12">
      <h1 class="text-[var(--text-olive-deep)] text-3xl md:text-4xl font-bold tracking-tight mb-2">{{ 'customer.login.title' | t | default: 'Sign In' }}</h1>
      <p class="text-muted">{{ 'customer.login.description' | t | default: 'Welcome back to Estelle Atelier' }}</p>
    </div>

    <!-- Login Form -->
    <div class="bg-white rounded-2xl border border-[var(--sage-accent)]/30 p-8 md:p-12 mb-8">
      {% form 'customer_login', return_to: routes.account_url %}
        {% if form.errors %}
          <div class="p-4 bg-red-50 rounded-lg text-center mb-6">
            <p class="text-sm font-medium text-red-600">
              {{ form.errors | default_errors }}
            </p>
          </div>
        {% endif %}

        <div class="space-y-6">
          <div>
            <label for="CustomerEmail" class="block text-sm font-medium text-[var(--text-olive-deep)] mb-2">
              {{ 'customer.login.email' | t | default: 'Email' }}
            </label>
            <input
              type="email"
              name="customer[email]"
              id="CustomerEmail"
              class="w-full border border-[var(--sage-accent)] rounded-lg px-4 py-3 text-[var(--text-olive-deep)] focus:border-sage-dark focus:outline-0"
              placeholder="your@email.com"
              required
              autofocus
            >
          </div>

          <div>
            <label for="CustomerPassword" class="block text-sm font-medium text-[var(--text-olive-deep)] mb-2">
              {{ 'customer.login.password' | t | default: 'Password' }}
            </label>
            <input
              type="password"
              name="customer[password]"
              id="CustomerPassword"
              class="w-full border border-[var(--sage-accent)] rounded-lg px-4 py-3 text-[var(--text-olive-deep)] focus:border-sage-dark focus:outline-0"
              placeholder="•••••••••"
              required
            >
          </div>

          <div class="flex items-center justify-between">
            <a href="{{ routes.account_url }}" class="text-sm text-muted hover:text-[var(--sage-dark)] transition-colors">
              {{ 'customer.login.forgot_password' | t | default: 'Forgot password?' }}
            </a>
          </div>

          <button
            type="submit"
            class="w-full bg-[var(--sage-dark)] text-white py-4 rounded-lg font-bold hover:bg-sage-accent transition-colors"
          >
            {{ 'customer.login.sign_in' | t | default: 'Sign In' }}
          </button>
        </div>
      {% endform %}
    </div>

    <!-- Register CTA -->
    <div class="text-center">
      <p class="text-muted mb-4">{{ 'customer.login.new_customer' | t | default: 'New to Estelle Atelier?' }}</p>
      <a href="{{ routes.register_url }}" class="inline-flex items-center gap-2 border-2 border-sage-dark text-[var(--text-olive-deep)] px-8 py-3 rounded-lg font-bold hover:bg-[var(--sage-dark)] hover:text-white transition-colors">
        {{ 'customer.login.create_account' | t | default: 'Create an Account' }}
      </a>
    </div>

    <!-- Guest Checkout Notice -->
    {% if section.settings.show_guest_checkout %}
      <div class="mt-8 text-center">
        <a href="{{ routes.all_products_collection_url }}" class="text-sm text-muted hover:text-[var(--sage-dark)] transition-colors">
          {{ 'customer.login.guest_checkout' | t | default: 'Continue as guest' }}
        </a>
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Customer Login",
  "tag": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_guest_checkout",
      "label": "Show guest checkout link",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Customer Login"
    }
  ]
}
{% endschema %}
